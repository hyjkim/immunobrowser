{% load my_filters %}

<div id="filter_wrapper" class="row">
  <div class="col-md-12">
    <form action="#" method="post">
      <input type="button" value="Update" class="btn btn-default btn-lg" id="compare-update"/>
      {% csrf_token %}
      <input type="hidden" name="num_forms" value="{{ num_forms }}">
      {% for filter_form_tuple in filter_forms %}
      <div class="row">
        <div class="filter-form accordian col-md-12 {{filter_form_tuple.0.css_class}}"
          id="filter-cf-{{filter_form_tuple.0.id}}">
          <div class="filter-head">
              <div class="filter-expand"><span
                  id="toggle-cf-{{filter_form_tuple.0.id}}" class="toggle glyphicon glyphicon-chevron-down"></span>
              </div>
            <div class="filter-close">
              <span id="remove-{{filter_form_tuple.0.id}}" class="glyphicon glyphicon-remove"></span>
            </div>

            <!--<a class="accordion-toggle" data-toggle="collapse"
              data-parent="filter-cf-{{filter_form_tuple.0.id}}" href="#collapse-cf-{{filter_form_tuple.0.id}}"> -->
            {{ filter_form_tuple.0.sample }}
              <!-- </a> -->
          </div>
          <div id="collapse-cf-{{filter_form_tuple.0.id}}" class="filter-body accordion-body in" style="height: auto;">
            {{ filter_form_tuple.1.non_field_errors }}
            <!--
            <input type="hidden" name="{{filter_form_tuple.0.id}}-sample" id="id_{{filter_form_tuple.0.id}}-sample"
            -->
            <input type="hidden" name="{{forloop.counter0}}-sample"
            id="id_{{forloop.counter0}}-sample"
            value="{{filter_form_tuple.0.sample.id}}">
            <div class="fieldWrapper">
              {{ filter_form_tuple.1.min_count.errors }}
              <label for="id_{{filter_form_tuple.0.id}}-min_count">Min Count:</label>
              {{ filter_form_tuple.1.min_count }}
            </div>
            <div class="fieldWrapper">
              {{ filter_form_tuple.1.max_count.errors }}
              <label for="id_{{filter_form_tuple.0.id}}-max_count">Max Count:</label>
              {{ filter_form_tuple.1.max_count}}
            </div>
            <div class="fieldWrapper">
              {{ filter_form_tuple.1.min_length.errors }}
              <label for="id_{{filter_form_tuple.0.id}}-min_length">Min Length:</label>
              {{ filter_form_tuple.1.min_length }}
            </div>
            <div class="fieldWrapper">
              {{ filter_form_tuple.1.max_length.errors }}
              <label for="id_{{filter_form_tuple.0.id}}-max_length">Max Length:</label>
              {{ filter_form_tuple.1.max_length}}
            </div>
            <div class="fieldWrapper">
              {{ filter_form_tuple.1.norm_factor.errors }}
              <label for="id_{{filter_form_tuple.0.id}}-norm_factor">Normalization Factor:</label>
              {{ filter_form_tuple.1.norm_factor }}
            </div>
            <div class="fieldWrapper">
              {{ filter_form_tuple.1.v_gene_name.errors }}
              <label for="id_{{filter_form_tuple.0.id}}-v_gene_name">V Gene Name:</label>
              {{ filter_form_tuple.1.v_gene_name}}
            </div>
            <div class="fieldWrapper">
              {{ filter_form_tuple.1.j_gene_name.errors }}
              <label for="id_{{filter_form_tuple.0.id}}-j_gene_name">J Gene Name:</label>
              {{ filter_form_tuple.1.j_gene_name }}
            </div>

          </div>
        </div>
      </div>
      {% endfor %}
    </form>
  </div>
</div>
