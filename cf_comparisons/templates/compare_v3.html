{% extends "base.html" %}
{% load comparison_tags %}

{% block css %}
<style type="text/css" id="clonofilter-colors">
  {% if comparison %}
  {% clonofilter_colors_tag comparison %}
  {% endif %}
</style>
{% endblock %}


{% block extra_head %}
<script type='text/javascript' src="{{ STATIC_URL }}libs/compare.js"></script>
<script type='text/javascript' src="{{ STATIC_URL }}libs/scatternav.js"></script>
<script type='text/javascript' src="{{ STATIC_URL }}libs/functionality.js"></script>
<script type='text/javascript' src="{{ STATIC_URL }}libs/sharedClones.js"></script>
<script type='text/javascript' src="{{ STATIC_URL }}libs/EventBus.js" charset="utf-8"></script>
<script type='text/javascript'>
  window.eventBus = EventBus.newEventBus()
</script>
{% endblock %}

{% block nav %}
{% load dashboard_tags %}
{% menu_tag 'cf_comparisons.views.compare_v3' %}
{% endblock %}

{% block content %}
<div id="sidenav" class="col-md-3 pre-scrollable">
  <div class="btn-group">
      <button id="show-all" type="button" class="btn btn-default">Show All</button>
      <button id="hide-all" type="button" class="btn btn-default">Hide All</button>
      <button id="add-sample" type="button" class="btn btn-default">Add Sample</button>
  </div>
  <div id="sample-compare" class="row text-center" style="display: none">
    {% sample_compare_tag sample_compare_form%}
  </div>

  <div id="filter-forms"> 
    {% if comparison %}
    {% filter_forms_tag comparison %}
    {% endif %}
  </div>
</div>

<div id="subcontent" class="col-md-9 pre-scrollable">
  <div id="tutorial">
    Add a sample to get started!
  </div>
  <div class="col-md-3">

    <div id="functionality-main" class ="row">
      <div id="functionality-header" class="col-md-12">
        <h3>Functionality <span class="glyphicon glyphicon-info-sign"></span></h3>
      </div>
      <div id="functionality-content">
        <img src="{{STATIC_URL}}img/ajax-loader.gif">
      </div>
    </div>

    <div id="scatter-main" class="row">
      <div id="scatter-header" class="col-md-12">
        <h3>V-J usage <span class="glyphicon glyphicon-info-sign"></span></h3>
      </div>
      <div id="scatter-content" class="row">
        <img src="{{STATIC_URL}}img/ajax-loader.gif">
      </div>
    </div>

    <div id="shared-clones-main" class="row">
      <div id="shared-clones-header" class="col-md-12">
        <h3>Shared Clones <span class="glyphicon glyphicon-info-sign"></span></h3>
      </div>
      <div id="shared-clones-content" class="col-md-12">
        <img src="{{STATIC_URL}}img/ajax-loader.gif">
      </div>
    </div>
  </div>

</div>

<script type='text/javascript'>
  // design a compare app controller for individual
  // d3 plots. 
  // This app should be able to load data on call
  // and update the view when a new comparison is called
  // for.

  // first i should write a function that loads the filter forms.
  // Although this can be done natively in the django template,
  // it makes sense to load everything via json in order to have
  // a consistent design pattern

  // load filter forms loading closure

$(function() {
    var test = comparisonRefresh();
    test.comparisonId({{comparison.id}});
    test();
    });
  </script>
  {% endblock %}
